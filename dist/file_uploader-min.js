"use strict";var FileUploader=function(){var e;return{global_options:{},mimetypes:{img:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp",".png",".jpg",".jpeg",".pjpg",".pjpeg",".gif",".webp"],pdf:["application/pdf",".pdf"]},uploader:function e(){this.istance_options={}}}}();FileUploader=function(n){var o=function e(){var i=document.createElement("div");return("draggable"in i||"ondragstart"in i&&"ondrop"in i)&&"FormData"in window&&"FileReader"in window},s=function e(i){if(i.max_filesize){var o,t,l;if(isNaN(i.max_filesize)){if(t=i.max_filesize.substr(-2,2).toUpperCase(),l=o=+i.max_filesize.substr(0,i.max_filesize.length-2),isNaN(o)||"KB"!==t&&"MB"!==t)return!1}else o=+i.max_filesize,t="KB",l=i.max_filesize,1024<=o&&(t="MB",l=Math.round(o/1024*100)/100);return"KB"===t?o*=1024:o=1024*o*1024,{originalValue:i.max_filesize,maxbytes:o,unit:t,feedback_size:String(l).replace(/\./,",")+" "+t}}return null};return n.init=function(e,a){if(o()){if("function"==typeof Object.assign)n.global_options=Object.assign({},n.global_options,e);else for(var i in n.global_options)e[i]&&(n.global_options[i]=e[i]);n.global_options.fileUploader_css&&document.head.insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="'+n.global_options.fileUploader_css+'" type="text/css" media="all">'),document.querySelectorAll(n.global_options.selector).forEach(function(e){var i=new n.uploader,o=e.dataset.file_uploader;if(""===o&&(o={}),"function"==typeof Object.assign)i.istance_options=Object.assign({},n.default_istance_options,a,e.dataset,o);else for(var t in n.default_istance_options)e.dataset.file_uploader[t]?i.istance_options[t]=e.dataset.file_uploader[t]:e.dataset[t]?i.istance_options[t]=e.dataset[t]:a[t]?i.istance_options[t]=a[t]:i.istance_options[t]=n.default_istance_options[t];delete i.istance_options.file_uploader,i.istance_options.element=e,i.istance_options.filetype=i.istance_options.filetype.toLowerCase(),n.global_options.debug&&(console.groupCollapsed("FileUploader global & istance options"),console.table(n.global_options),-1===window.navigator.userAgent.toLowerCase().indexOf("chrome")&&console.table(Object.assign({},i.istance_options)),console.log(i.istance_options),console.groupEnd());try{if(!i.istance_options.uploader_url)throw new Error("`uploader_url` non impostato");if(!i.istance_options.upload_start_callback)throw new Error("`upload_start_callback` non impostato");if(!i.istance_options.upload_complete_callback)throw new Error("`upload_complete_callback` non impostato");var l=s(i.istance_options);if(!1===l)throw new Error('"'+i.istance_options.max_filesize+'" non è un valore corretto per `max_filesize`');i.istance_options.max_filesize=l}catch(e){console.error(e)}})}else console.error("Questo browser non ha tutte le funzionalità richieste da FileUploader")},n}((FileUploader=function(e){return e.global_options={fileUploader_css:null,init_callback:null,selector:"[data-file_uploader]",debug:!1,alert_api:function e(i){window.alert(i)}},e.default_istance_options={uploader_url:null,filetype:"auto",container_class:null,template:'<div class="card text-center" style="background-color: transparent"><div class="card-body"><div class="file_upl__button"></div><div class="file_upl__dd_text"></div></div><div class="card-footer text-muted small font-italic file_upl__info_text"></div></div>',upload_complete_callback:null,container_dragover_class:"bg-light",label_text:null,label_class:"btn btn-primary btn-lg",dd_text_single:"oppure trascina qui un file",dd_text_multiple:"oppure trascina qui uno o più file",show_info_text:!0,custom_info_text:null,info_text_join_string:"<br>",img_min_w:null,img_max_w:null,img_w:null,img_min_h:null,img_max_h:null,img_h:null,max_filesize:null,varname:"file"},e}(FileUploader||{}))||{});
//# sourceMappingURL=file_uploader-min.js.map