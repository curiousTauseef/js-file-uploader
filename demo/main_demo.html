<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>File uploader demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">

    <!--  bootstrap toast notification only -->
    <link href="./bs4_toast_notificaton.css" media="all" rel="stylesheet" type="text/css">
    <!--  end bootstrap toast notification -->

    <style media="screen" type="text/css">
      /* this is tipically managed in your project */
      .fupl-legend.required:not(.disabled)::before {
        color: #c00;
        margin-right: .1em;
        line-height: 1;
        content: '*';
      }

    </style>
  </head>

  <body>
    <div class="container">
      <h1>File Uploader demo</h1>

      <p>Look at console for more info</p>

      <!-- demo #1 -->
      <form action="" id="form1" method="post" name="form1">
        <h2>1. With <code>input[type="file"]</code> file (single img) + pre-registered value</h2>
        <div data-file-uploader
          data-filetype="img"
          data-img_min_h="500"
          data-img_min_w="500"
          data-max_filesize="2500"
          data-uploader_legend="true"
          data-values='[
            { "id": "124",
              "name": "ibrahim-rifath-787485-unsplash.jpg",
              "src": "test-files/ibrahim-rifath-787485-unsplash.jpg",
              "wi": 1920,
              "he": 1280,
              "size": 193345
            }
          ]'
          id="upl1">
          <label for="input_file">This is the original input field label</label>
          <input id="input_file" name="myfile" type="file">
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>


      <!-- demo #2 -->
      <form action="" id="form2" method="post" name="form2">
        <h2 class="mt-5">2. Without input field (single doc) + pre-registered value</h2>
        <p><small>NB: <code>data-required</code> attribute without values, is the same to set it to <code>false</code></small></p>
        <div
          data-file-uploader='{"filetype":"auto"}'
          data-max_filesize="500KB"
          data-required
          data-uploader_legend="false"
          data-values='[
            {
              "id": "125",
              "name": "very long long long name.pdf",
              "url": "test-files/pdf1.pdf",
              "wi": null,
              "he": null,
              "size": 6157
            }
          ]'
          id="upl2">
          This content will be removed
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>

      <!-- demo #3 -->
      <form action="" id="form3" method="post" name="form3">
        <h2 class="mt-5">3. Without input field (pdf, multiple and required by <code>data-</code> attributes)</h2>
        <p>Options as json</p>
        <div
          data-file-uploader='{
            "filetype"                : "pdf",
            "max_filesize"            : 400,
            "multiple"                : true,
            "required"                : true,
            "uploader_legend"         : true,
            "uploader_legend_text"    : "Label from `uploader_legend_text` parameter"
          }'
          id="upl3">
          This content will be removed
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>

      <!-- demo #4 -->
      <form action="" id="form4" method="post" name="form4">
        <h2 class="mt-5">4. With input field  (img, multiple and required from input) + pre-registered values</h2>
        <div
          data-file-uploader
          data-filetype="img"
          data-max_filesize="8Mb"
          data-uploader_legend="true"
          data-values='[
            {
              "id": "123",
              "name": "gigi-1508584-unsplash.jpg",
              "src": "test-files/gigi-1508584-unsplash.jpg",
              "wi": 1199,
              "he": 1600,
              "size": 175418
            },
            {
              "id": "124",
              "name": "ibrahim-rifath-787485-unsplash.jpg",
              "src": "test-files/ibrahim-rifath-787485-unsplash.jpg",
              "wi": 1920,
              "he": 1280,
              "size": 193345
            }
          ]'
          id="upl4">
          <label for="input_file2">Input field label</label>
          <input class="form-control" id="input_file2" multiple name="myfile" required type="file">
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>

      <!-- demo #5 -->
      <form action="" id="form5" method="post" name="form5">
        <h2 class="mt-5">5. With input field and <code>accept</code> attribute (multiple) + pre-registered values</h2>
        <div
          data-file-uploader
          data-custom_info_text="Load Pdf, Word or Excel files"
          data-filetype="auto"
          data-uploader_legend="true"
          data-values='[
            {
              "id": "125",
              "name": "pdf1.pdf",
              "url": "test-files/pdf1.pdf",
              "wi": null,
              "he": null,
              "size": 6157
            },
            {
              "id": "126",
              "name": "pdf2.pdf",
              "url": "test-files/pdf1.pdf",
              "size": 6300
            }
          ]'
          id="upl5">
          <label for="input_file3">Input field label</label>
          <input accept=".doc, .docx, .pdf, .xlsx, .xls" id="input_file3" multiple name="myfile" type="file">
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>

      <!-- demo #6 -->
      <form action="" id="form6" method="post" name="form6">
        <h2 class="mt-5">6. Disabled input field</h2>
        <div
          data-file-uploader
          data-filetype="pdf"
          data-uploader_legend="true"
          id="upl6">
          <label for="input_file4">Input field label</label>
          <input class="form-control" disabled id="input_file4" multiple name="myfile" type="file">
        </div>
        <p><button class="btn btn-primary" type="submit">Submit</button></p>
      </form>


    </div>
    <!--  bootstrap toast notification only -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"></script>
    <script src="bs4_toast_notification-min.js"></script>
    <!--  end bootstrap toast notification -->

    <script src="../dist/file_uploader-min.js"></script>
    <script src="test-files/en_localization.js"></script>

    <script>
      //console.log(FileUploader); // eslint-disable-line

      // external callback func
      function complete_callback(callback_args) {
        console.log('upload_complete_callback');
        console.log(callback_args);
      }

      FileUploader.init({...en_localization, ...{
        debug: true,
        css: '../dist/file_uploader.css',
        uploader_url: 'server_side_demo_response.json',
        alert_api: showToastNotification,
        disable_submit: true,
        upload_start_callback: function () {
          console.log('upload_start_callback');
        },
        upload_complete_callback: complete_callback
      }});

    </script>
    <!-- <script src="../node_modules/m-layout-tools/dist/layout_tools-min.js"></script> -->
  </body>

</html>
